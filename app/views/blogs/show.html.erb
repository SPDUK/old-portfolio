<div class="blog-main">
  <% if logged_in?(:site_admin) %>
    <div class="blog-admin-actions ml-auto mb-3">
      <b><%= @blog.status %></b>
      <%= link_to @blog.draft? ? "Publish blog" : "Set to private", toggle_status_blog_path(@blog), class: "btn-sm btn-info"  %>
      <%= link_to "Edit",  edit_blog_path(@blog), class: "btn-sm btn-success" %>
      <%= link_to "Delete",
         @blog, method: :delete,
         data: {confirm: "Are you sure you want to delete #{@blog.title}?"},
         class: "btn-sm btn-danger" %>
    </div>
  <% end %>
  <h2><%= @blog.title %></h2>
  <div class="blog-meta border-bottom border-light">
    <span class="border-right border-light">
      Published <%= distance_of_time_in_words(@blog.created_at, Time.now) %> ago
    </span>
    <span class="border-right border-light"><%= read_time(@blog.body) %> min read</span>
    <%= link_to @blog.topic.title, @blog.topic, class: "badge badge-dark" %>
  </div>
  <style>
    <%= ::Rouge::Themes::Gruvbox.mode(:light).render(scope: '.highlight') %>
  </style>
  <p><%= markdown @blog.body %></p>
  <hr>
  <div class="blog-actions">
    <%= link_to "⬅ More Blog Posts", blogs_path, class: "text-dark" %>
    <a id="share" class="text-dark">Copy link to clipboard 🤍</a>
  </div>
</div>
